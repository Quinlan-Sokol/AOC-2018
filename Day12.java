/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package adventofcode.pkg2018;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.Scanner;

/**
 *
 * @author QDS
 */
public class Day12 {
    public static void main(String args[]) throws FileNotFoundException{
        Scanner s = new Scanner(new File("src/input12.txt"));
        ArrayList<String> notes = new ArrayList();
        ArrayList<String> results = new ArrayList();
        
        while(s.hasNextLine()){
            String temp = s.nextLine();
            notes.add(temp.split(" => ")[0]);
            results.add(temp.split(" => ")[1]);
        }
        s.close();
        
        String state = "................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................".concat("####..##.##..##..#..###..#....#.######..###########.#...#.##..####.###.#.###.###..#.####..#.#..##..#").concat("................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................");
        int lastTotal = 0;
        int count = 0;
        
        while(true){
            count++;
            String newState = "..";
            for(int i = 2; i < state.length()-2; i++){
                String note = "";
                note += state.charAt(i-2);note += state.charAt(i-1);note += state.charAt(i);note += state.charAt(i+1);note += state.charAt(i+2);
                if(notes.contains(note)){
                    int index = notes.indexOf(note);
                    newState += results.get(index);
                }else{
                    newState += ".";
                }
            }
            state = newState.concat("..");
            
            int total = 0;
            int counter = -3200;
            for(char c : state.toCharArray()){
                if(c == '#'){
                    total += counter;
                }
                counter++;
            }
            //System.out.println(total);
            if(total == lastTotal + 88 && count > 100){
                System.out.println(total);
                break;
            }
            else{
                lastTotal = total;
            }
        }
        double num = (50000000000D - count+1) * 88;
        num += lastTotal;
        System.out.println(num);
    }
}
